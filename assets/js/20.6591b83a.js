(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{467:function(s,t,n){"use strict";n.r(t);var a=n(9),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"github-action-自动部署脚本出现无法识别报错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github-action-自动部署脚本出现无法识别报错"}},[s._v("#")]),s._v(" Github Action 自动部署脚本出现无法识别报错")]),s._v(" "),n("h3",{attrs:{id:"问题描述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[s._v("#")]),s._v(" 问题描述")]),s._v(" "),n("p",[s._v("在本地Windows环境保存shell脚本后，上传至github，使用Github的自动部署集成出现报错。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("deploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" not found\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": set: -\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" invalid option\nset: usage: "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-abefhkmnptuvxBCHP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-o option-name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("arg "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" not found\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" missing script: build\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Did you mean this?\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     build\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /home/runner/.npm/_logs/2021-07-13T02_23_09_262Z-debug.log\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" not found\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": cd: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'docs/.vuepress/dist"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" No such "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" not found\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),s._v("'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" not found\ndeploy.sh: line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(": syntax error: unexpected end of "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code ELIFECYCLE\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" errno "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" theme-vdoing-blog@1.0.0 deploy: "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" deploy.sh"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Exit status "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Failed at the theme-vdoing-blog@1.0.0 deploy script.\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" This is probably not a problem with npm. There is likely additional logging output above.\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /home/runner/.npm/_logs/2021-07-13T02_23_09_282Z-debug.log\nError: Process completed with "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" code "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h3",{attrs:{id:"解决方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案")]),s._v(" "),n("p",[s._v("由报错可知道"),n("code",[s._v("\\r")]),s._v("是windows文件的"),n("code",[s._v("行结尾")]),s._v("符号，所以需要将windows下保存的行结尾符号换成linux的行结尾符号"),n("code",[s._v("\\n")]),s._v(".")]),s._v(" "),n("p",[s._v("如果windows安装了notepad++,可以用Windows打开脚本，进入"),n("code",[s._v("编辑")]),s._v("->"),n("code",[s._v("文档格式转换")]),s._v("->"),n("code",[s._v("转为Unix(LF)")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://pic.bluebaozi.cn/img/image-20210713111957526.png",alt:"image-20210713111957526"}})]),s._v(" "),n("p",[s._v("完成后，"),n("code",[s._v("git push")]),s._v("再提交一次，这次Github Action任务顺利完成。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://pic.bluebaozi.cn/img/image-20210713112208444.png",alt:"image-20210713112208444"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);